<!DOCTYPE html />
<html>
	<head>
		<meta http-equiv = "Content-Type" content = "text/html; charset = utf-8" />
		<title> Js learning </title>
		
		<script>
		/*
			级联菜单：
			二级级联
			
			扩展：三级级联、无限极级联
			
		*/
		// 创建数组
		var area = [
				['武汉', '黄冈', '荆州', '宜昌'],
				['无锡', '苏州', '常州', '南京'],
				['浦东', '宝山', '嘉定', '青浦']
				];
				
		function ld()
		{
			var sel = document.getElementById('prov');
			//alert(sel.value);
			var opt = '';
			
			if (sel.value == -1)
			{
				document.getElementById('city').innerHTML = opt;
				return ;
			}
			
			for(var i = 0, len = area[sel.value].length; i < len; i++) 
			{
				opt = opt + '<option value = "'+ i +'">' + area[sel.value][i] + '</option>';
			}
			
			alert(opt);
			document.getElementById('city').innerHTML = opt;
		}
		</script>
		
		<script>
			function year()
			{
				var opt = '<option value = "-1"> 请选择年份 </option>';
				for (var y = 1970; y < 2050; y++)
				{
					opt = opt + '<option value = "'+ y +'">' + y + '</option>';
				}
				document.getElementById('y').innerHTML = opt;
			}
			
		function birthday()
		{
			var sel = document.getElementById('y');
			var opt = '';
			if (sel.value == -1)
			{
				document.getElementById('m_d').innerHTML = opt;
				return ;
			}
			
			opt = "<select name = \"month\" id = \"m\" onchange = \"bir_m();\"> ";
			opt = opt + "<option value = \"0\"> </option>";
			for(var i = 1; i <= 12; i++) 
			{
				opt = opt + '<option value = "'+ i +'">' + i + '</option>';
			}
			opt = opt + "</select>";
			
			//alert(opt);
			document.getElementById('m_d').innerHTML = opt;
		}
		
		function bir_m()
		{
			var days = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
			var sel = document.getElementById('m');
			var opt = '';
			if (sel.value == 0)
			{
				document.getElementById('d_d').innerHTML = opt;
				return ;
			}
			opt = "<select name = \"day\" id = \"d\" onchange = \"bir_m();\"> ";
			//opt = opt + "<option value = \"0\"> </option>";
			
			for(var i = 1; i <= days[sel.value]; i++) 
			{
				opt = opt + '<option value = "'+ i +'">' + i + '</option>';
			}
			opt = opt + "</select>";
			
			//alert(opt);
			document.getElementById('d_d').innerHTML = opt;
		}
		</script>
		
		
	</head>
	<body>
		<h1> 级联菜单 </h1>
		<select name = "" id = "prov" onchange = "ld();">
			<option value = "-1"> 请选择省份 </option>
			<option value = "0"> 湖北 </option>
			<option value = "1"> 江苏 </option>
			<option value = "2"> 上海 </option>
		</select>
		<select name = "" id = "city">
		
		</select>
		
		<h1> 生日 </h1>
		<div style = "float: left; padding-right: 10px;">
			<select name = "year" id = "y" onchange = "birthday();">
				<script> window.onload = year(); </script>
			</select>
		</div>
		
		<div id = "m_d" style = "float: left; padding-right: 10px;">
		</div>
		
		<div id = "d_d" style = "float: left;">
		</div>
		
	</body>
		<script>
			function year()
			{
				var opt = '';
				for (var y = 1970; y < 2050; y++)
				{
					opt = opt + '<option value = "'+ y +'">' + y + '</option>';
				}
				document.getElementById('y').innerHTML = opt;
			}
		</script>
</html>

